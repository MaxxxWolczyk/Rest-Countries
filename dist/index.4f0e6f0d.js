function e(e,n,t,a){Object.defineProperty(e,n,{get:t,set:a,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},i=t.parcelRequire1861;null==i&&((i=function(e){if(e in a)return a[e].exports;if(e in r){var n=r[e];delete r[e];var t={id:e,exports:{}};return a[e]=t,n.call(t.exports,t,t.exports),t.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){r[e]=n},t.parcelRequire1861=i),i.register("27Lyk",(function(n,t){var a,r;e(n.exports,"register",(()=>a),(e=>a=e)),e(n.exports,"resolve",(()=>r),(e=>r=e));var i={};a=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)i[n[t]]=e[n[t]]},r=function(e){var n=i[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n}})),i("27Lyk").register(JSON.parse('{"f9fpV":"index.4f0e6f0d.js","602Ft":"icons.c14567a0.svg"}'));const s={countries:[],names:[]},o=async function(e="all"){const n=await async function(e,n){try{const a=fetch(`${e}/${n}`),r=await Promise.race([a,(t=10,new Promise((function(e,n){setTimeout((function(){n(new Error(`Request took too long! Timeout after ${t} second`))}),1e3*t)})))]);if(!r.ok)throw new Error(`${i.message} ${r.status}`);const i=await r.json();return i}catch(e){throw new Error(e.message)}var t}("https://restcountries.com/v3.1",e);s.countries=n,console.log(s),0===s.names.length&&n.forEach((e=>s.names.push({name:e.name.common,fifa:e.fifa})))};var d;d=new URL(i("27Lyk").resolve("602Ft"),import.meta.url).toString();var c=new class{_backBtn=document.querySelector(".detail-view__btn");_parentElement=document.querySelector(".detail-view");_countryElement=document.querySelector(".maps-view");_viewCard=document.querySelector(".view-card");numebrFormat(e){return(new Intl.NumberFormat).format(e)}_hideDetailPage(){this._parentElement.style.display="none",this._countryElement.style.display="block"}_showDetailPage(){this._parentElement.style.display="block",this._countryElement.style.display="none"}_generateDetail(e){return e.countries[0].borders.map((n=>{let t=e.names.find((e=>e.fifa===n));return void 0===t?`<button class="view-card__btn btn-detail btn" data-name ="${n}">${n}</button>`:`<button class="view-card__btn btn-detail btn" data-name ="${n}">${t.name}</button>`})).join(" ")}_generateHtml(e){return`\n    <div class="view-card__img">\n      <img src="${e.countries[0].flags.png}" alt="country flag" />\n    </div>\n    <div class="view-card__details">\n      <h2 class="view-card__title">${e.countries[0].name.common}</h2>\n      <div class="view-card__description">\n        <p class="view-card__item">Native Name: <span>${e.countries[0].name.official}</span></p>\n        <p class="view-card__item">Population: <span>${this.numebrFormat(e.countries[0].population)}</span></p>\n        <p class="view-card__item">Region: <span>${e.countries[0].region}</span></p>\n        <p class="view-card__item">Sub Region: <span>${e.countries[0].subregion}</span></p>\n        <p class="view-card__item">Capital: <span>${e.countries[0].capital?e.countries[0].capital:"Nothing found"}</span></p>\n        <p class="view-card__item">Top Level Domain: <span>${e.countries[0].fifa}</span></p>\n        <p class="view-card__item">Currencies: <span>${e.countries[0].currencies?Object.values(e.countries[0].currencies)[0].name:"Nothing found"}</span></p>\n        <p class="view-card__item">Languages: <span>${Object.values(e.countries[0].languages)[0]}</span></p>\n      </div>\n      <div class="view-card__border-box">\n      <p class="view-card__item">Border Countries:</p>\n      ${e.countries[0].borders?this._generateDetail(e):"Nothing found"}\n        \n      </div>\n    </div>`}renderSpinner(){const e=`<div class="spinner">\n        <svg>\n          <use href="${n(d)}#icon-loader"></use>\n        </svg>\n      </div>`;this._viewCard.innerHTML="",this._viewCard.insertAdjacentHTML("afterbegin",e)}renderDetail(e){this._viewCard.innerHTML="";const n=this._generateHtml(e);this._viewCard.insertAdjacentHTML("beforeend",n)}addHandlerClose(){this._backBtn.addEventListener("click",this._hideDetailPage.bind(this))}addHandlerShow(e){e.addEventListener("click",this._showDetailPage.bind(this))}addHandlerGetInfo(e){this._countryElement.addEventListener("click",(function(n){null!==n.target.closest(".card")&&e(n.target.closest(".card").dataset.name)}))}addHandlerBorder(e){this._parentElement.addEventListener("click",(function(n){null!==n.target.closest(".view-card__btn")&&e(n.target.closest(".view-card__btn").dataset.name)}))}};var l=new class{_parentElement=document.querySelector(".maps-view__container");_regionElement=document.querySelector("#region");_searchElement=document.querySelector("#input");_darkModeBtn=document.querySelector(".header__theme-switch");_root=document.querySelector(":root");_switch=!0;numebrFormat(e){return(new Intl.NumberFormat).format(e)}darkmode(){console.log(this._root),this._darkModeBtn.addEventListener("click",function(){this._switch?(this._root.style.setProperty("--color-bg","hsl(207, 26%, 17%)"),this._root.style.setProperty("--color-input","hsl(209, 23%, 22%)"),this._root.style.setProperty("--color-text","hsl(0, 0%, 100%)")):(this._root.style.setProperty("--color-bg","hsl(0, 0%, 98%)"),this._root.style.setProperty("--color-input","hsl(0, 0%, 98%)"),this._root.style.setProperty("--color-text","hsl(200, 15%, 8%)")),this._switch=!this._switch}.bind(this))}_generateMarkup(e){return`\n    <div class="card__img" style ="background-image: url(${e.flags.png})">\n    </div>\n    <div class="card__details">\n      <h2 class="card__title">${e.name.common}</h2>\n      <p class="card__item" data-item="population">\n        Population: <span>${this.numebrFormat(e.population)}</span>\n      </p>\n      <p class="card__item" data-item="region">\n        Region: <span>${e.region}</span>\n      </p>\n      <p class="card__item" data-item="capital">\n      Capital: <span>${e.capital?.[0]}</span>\n      </p>\n    </div>`}renderSpinner(){const e=`<div class="spinner">\n        <svg>\n          <use href="${n(d)}#icon-loader"></use>\n        </svg>\n      </div>`;this._parentElement.innerHTML="",this._parentElement.insertAdjacentHTML("afterbegin",e)}clear(){this._parentElement.innerHTML=""}render(e){const n=this._generateMarkup(e),t=document.createElement("div");t.classList.add("card"),t.setAttribute("data-name",e.name.common.toLowerCase()),t.insertAdjacentHTML("afterbegin",n),this._parentElement.insertAdjacentElement("afterbegin",t)}addhandlerCards(){document.querySelectorAll(".card").forEach((e=>{c.addHandlerShow(e)}))}addHandlerRender(e){window.addEventListener("load",e)}addHandlerChange(e){this._regionElement.addEventListener("change",e)}addHandlerSearch(e){this._searchElement.addEventListener("input",e)}};const u=async function(){await o("all"),s.countries.forEach((e=>l.render(e))),l.addhandlerCards()},p=async function(e){"all"!==e.target.value?(await o(`region/${e.target.value}`),l.clear(),s.countries.forEach((e=>{l.render(e)})),l.addhandlerCards()):u()},m=async function(e){e.target.value.length<=0&&u(),await o(""+(e.target.value?`name/${e.target.value}`:"all")),l.clear(),s.countries.forEach((e=>l.render(e))),l.addhandlerCards()},_=async function(e){e&&(c.renderSpinner(),await o(`name/${e}`),c.renderDetail(s),l.addhandlerCards())},h=async function(e){e&&(c.renderSpinner(),await o(`alpha/${e}`),c.renderDetail(s),l.addhandlerCards())};l.darkmode(),l.addHandlerRender(u),l.addHandlerChange(p),l.addHandlerSearch(m),c.addHandlerClose(),c.addHandlerGetInfo(_),c.addHandlerBorder(h);
//# sourceMappingURL=index.4f0e6f0d.js.map
